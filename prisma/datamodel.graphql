type Team {
  id: ID! @unique
  name: String!
  accounts: [Account!]!
  members: [TeamMember!]!
}

type User {
  id: ID! @unique
  email: String! @unique
  firstName: String!
  lastName: String
  passwordHash: String!
  teams: [TeamMember!]!
}

type TeamMember {
  id: ID! @unique
  team: Team!
  user: User!
  admin: Boolean!
  canInvite: Boolean!
  accounts: [Account!]!
}

type Account {
  id: ID! @unique
  name: String!
  balance: Float! @default(value: "0.0")
  revenue: Float! @default(value: "0.0")
  spendings: Float! @default(value: "0.0")
  payments: [Payment!]!
  team: Team!
}

type Payment {
  id: ID! @unique
  postedDate: DateTime!
  amount: Float!
  account: Account!
  peerAccountName: String!
  comments: [Comment!]!
}

type Comment {
  id: ID! @unique
  payment: Payment!
  user: User
  body: Json!
}
